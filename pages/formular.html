<!DOCTYPE html>
<html>
  <head>
    <meta name="author" content="Dana Engel">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    
    <title>Testseite</title>
    <script type="text/javascript" src="../js/style-switcher.js"></script>
  </head>
  <body>
    <header>
      <h1>Testseite ITEC-Modul</h1>  
    </header>
    <nav>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="./canvas.html">Canvas</a></li>
        <li><a href="./formular.html">Formular</a></li>
        <li><a href="./ajax.html">Ajax-Spielerei</a></li>
        <li><a href="./style-switcher.html">Style-Switcher</a></li>
        <li>
          <a href="http://validator.w3.org/check?uri=http%3A%2F%2Fitec.engels.io%2Fpages%2Fformular.html;verbose=1">
            <img src="http://www.w3.org/html/logo/badge/html5-badge-h-solo.png" width="34" height="34" alt="HTML5 Powered" title="HTML5 Powered">
          </a>
        </li>
      </ul>
    </nav>

    <article>
    <h2>Passwortvergleich</h2>
    <p>Hier können Sie ein Passwort miteinander vergleichen</p>
    <form id="itec-form" action="formular.html" novalidate>
      <fieldset>
        <legend>Passwortvergleich</legend>
	<div>
	  <label for="password1">Wählen Sie ein Passwort</label>
	  <input type="password" required id="itec-input-password" />
	</div>
	<div>
	  <label for="password2">Bestätigen Sie Ihr Password</label>
	  <input type="password" required id="itec-input-password2" />
	</div>
	<p class="error"></p>
	<p class="message"></p>
        <br />
        <div id="itec-form-send">
          <input name="send" type="submit" value="Absenden">
        </div>
      </fieldset>
    </form>
    <script>
    var password1 = document.getElementById('itec-input-password');
    var password2 = document.getElementById('itec-input-password2');
    var form = document.getElementById('itec-form');

    var checkPasswordValidity = function() {
        if (password1.value != password2.value) {
            password1.setCustomValidity('Passwörter sind NICHT gleich.');
            updateErrorMessage();
	    updateMessage("");
        } else {
            password1.setCustomValidity('');
	    updateErrorMessage();
	    updateMessage("Passwörter sind gleich");
        }        
    };

   var updateErrorMessage = function() {
        form.getElementsByClassName('error')[0].innerHTML = password1.validationMessage;
    };

   var updateMessage = function(message) {
        form.getElementsByClassName('message')[0].innerHTML = message;
    };

    password1.addEventListener('change', checkPasswordValidity, false);
    password2.addEventListener('change', checkPasswordValidity, false);

    form.addEventListener('submit', function(event) {
        checkPasswordValidity();
        if (!this.checkValidity()) {
            event.preventDefault();
	    updateErrorMessage();
            password1.focus();
        } else {
	   updateMessage();
	}
    }, false);

    </script>
    </article>

    <footer>Wurde im Rahmen des ITEC-Modules der HSLU von Dana Engel erstellt.</footer>
  </body>
</html>
